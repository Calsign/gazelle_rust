syntax = "proto3";

message Request {
    oneof kind {
        RustImportsRequest rust_imports = 1;
        LockfileCratesRequest lockfile_crates = 2;
    }
}

message RustImportsRequest {
    string file_path = 1;
}

message RustImportsResponse {
    repeated string imports = 1;
}

message LockfileCratesRequest {
    oneof lockfile {
        string lockfile_path = 1;
        string cargo_lockfile_path = 2;
    }
}

message Package {
    string name = 1;
    string crate_name = 2;
    bool proc_macro = 3;
}

message LockfileCratesResponse {
    repeated Package crates = 1;
}
